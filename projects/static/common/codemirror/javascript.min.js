CodeMirror.defineMode("javascript",function(e,t){function c(e,t,n){return t.tokenize=n,n(e,t)}function h(e,t){var n,r=!1;while((n=e.next())!=null){if(n==t&&!r)return!1;r=!r&&n=="\\"}return r}function p(e,t,i){return n=e,r=i,t}function d(e,t){var n,r,i=e.next();return i=='"'||i=="'"?c(e,t,v(i)):/[\[\]{}\(\),;\:\.]/.test(i)?p(i):i=="0"&&e.eat(/x/i)?(e.eatWhile(/[\da-f]/i),p("number","number")):/\d/.test(i)||i=="-"&&e.eat(/\d/)?(e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),p("number","number")):i=="/"?e.eat("*")?c(e,t,m):e.eat("/")?(e.skipToEnd(),p("comment","comment")):t.reAllowed?(h(e,"/"),e.eatWhile(/[gimy]/),p("regexp","string-2")):(e.eatWhile(l),p("operator",null,e.current())):i=="#"?(e.skipToEnd(),p("error","error")):l.test(i)?(e.eatWhile(l),p("operator",null,e.current())):(e.eatWhile(/[\w\$_]/),n=e.current(),r=f.propertyIsEnumerable(n)&&f[n],r&&t.kwAllowed?p(r.type,r.style,n):p("variable","variable",n))}function v(e){return function(t,n){return h(t,e)||(n.tokenize=d),p("string","string")}}function m(e,t){var n,r=!1;while(n=e.next()){if(n=="/"&&r){t.tokenize=d;break}r=n=="*"}return p("comment","comment")}function g(e,t,n,r,i,s){this.indented=e,this.column=t,this.type=n,this.prev=i,this.info=s,r!=null&&(this.align=r)}function y(e,t){var n;for(n=e.localVars;n;n=n.next)if(n.name==t)return!0}function b(e,t,n,r,i){var o,u=e.cc;s.state=e,s.stream=i,s.marked=null,s.cc=u,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);for(;;){o=u.length?u.pop():a?A:L;if(o(n,r)){while(u.length&&u[u.length-1].lex)u.pop()();return s.marked?s.marked:n=="variable"&&y(e,r)?"variable-2":t}}}function w(){var e;for(e=arguments.length-1;e>=0;e--)s.cc.push(arguments[e])}function E(){return w.apply(null,arguments),!0}function S(e){var t,n=s.state;if(n.context){s.marked="def";for(t=n.localVars;t;t=t.next)if(t.name==e)return;n.localVars={name:e,next:n.localVars}}}function x(){s.state.context||(s.state.localVars=o),s.state.context={prev:s.state.context,vars:s.state.localVars}}function T(){s.state.localVars=s.state.context.vars,s.state.context=s.state.context.prev}function N(e,t){var n=function(){var n=s.state;n.lexical=new g(n.indented,s.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function C(){var e=s.state;e.lexical.prev&&(e.lexical.type==")"&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function k(e){return function(t){return t==e?E():e==";"?w():E(arguments.callee)}}function L(e){return e=="var"?E(N("vardef"),j,k(";"),C):e=="keyword a"?E(N("form"),A,L,C):e=="keyword b"?E(N("form"),L,C):e=="{"?E(N("}"),B,C):e==";"?E():e=="function"?E(z):e=="for"?E(N("form"),k("("),N(")"),I,k(")"),C,L,C):e=="variable"?E(N("stat"),_):e=="switch"?E(N("form"),A,N("}","switch"),k("{"),B,C,C):e=="case"?E(A,k(":")):e=="default"?E(k(":")):e=="catch"?E(N("form"),x,k("("),W,k(")"),L,C,T):w(N("stat"),A,k(";"),C)}function A(e){return i.hasOwnProperty(e)?E(M):e=="function"?E(z):e=="keyword c"?E(O):e=="("?E(N(")"),O,k(")"),C,M):e=="operator"?E(A):e=="["?E(N("]"),H(A,"]"),C,M):e=="{"?E(N("}"),H(P,"}"),C,M):E()}function O(e){return e.match(/[;\}\)\],]/)?w():w(A)}function M(e,t){if(e=="operator"&&/\+\+|--/.test(t))return E(M);if(e=="operator"||e==":")return E(A);if(e==";")return;if(e=="(")return E(N(")"),H(A,")"),C,M);if(e==".")return E(D,M);if(e=="[")return E(N("]"),A,k("]"),C,M)}function _(e){return e==":"?E(C,L):w(M,k(";"),C)}function D(e){if(e=="variable")return s.marked="property",E()}function P(e){e=="variable"&&(s.marked="property");if(i.hasOwnProperty(e))return E(k(":"),A)}function H(e,t){function n(r){return r==","?E(e,n):r==t?E():E(k(t))}return function(r){return r==t?E():w(e,n)}}function B(e){return e=="}"?E():w(L,B)}function j(e,t){return e=="variable"?(S(t),E(F)):E()}function F(e,t){if(t=="=")return E(A,F);if(e==",")return E(j)}function I(e){return e=="var"?E(j,R):e==";"?w(R):e=="variable"?E(q):w(R)}function q(e,t){return t=="in"?E(A):E(M,R)}function R(e,t){return e==";"?E(U):t=="in"?E(A):E(A,k(";"),U)}function U(e){e!=")"&&E(A)}function z(e,t){if(e=="variable")return S(t),E(z);if(e=="(")return E(N(")"),x,H(W,")"),C,L,T)}function W(e,t){if(e=="variable")return S(t),E()}var n,r,i,s,o,u=e.indentUnit,a=t.json,f=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),r=e("keyword c"),i=e("operator"),s={type:"atom",style:"atom"};return{"if":t,"while":t,"with":t,"else":n,"do":n,"try":n,"finally":n,"return":r,"break":r,"continue":r,"new":r,"delete":r,"throw":r,"var":e("var"),"const":e("var"),let:e("var"),"function":e("function"),"catch":e("catch"),"for":e("for"),"switch":e("switch"),"case":e("case"),"default":e("default"),"in":i,"typeof":i,"instanceof":i,"true":s,"false":s,"null":s,"undefined":s,NaN:s,Infinity:s}}(),l=/[+\-*&%=<>!?|]/;return i={atom:!0,number:!0,variable:!0,string:!0,regexp:!0},s={state:null,column:null,marked:null,cc:null},o={name:"this",next:{name:"arguments"}},C.lex=!0,{startState:function(e){return{tokenize:d,reAllowed:!0,kwAllowed:!0,cc:[],lexical:new g((e||0)-u,0,"block",!1),localVars:t.localVars,context:t.localVars&&{vars:t.localVars},indented:0}},token:function(e,t){var i;return e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation()),e.eatSpace()?null:(i=t.tokenize(e,t),n=="comment"?i:(t.reAllowed=n=="operator"||n=="keyword c"||!!n.match(/^[\[{}\(,;:]$/),t.kwAllowed=n!=".",b(t,i,n,r,e)))},indent:function(e,t){var n,r,i,s;return e.tokenize!=d?0:(n=t&&t.charAt(0),r=e.lexical,r.type=="stat"&&n=="}"&&(r=r.prev),i=r.type,s=n==i,i=="vardef"?r.indented+4:i=="form"&&n=="{"?r.indented:i=="stat"||i=="form"?r.indented+u:r.info=="switch"&&!s?r.indented+(/^(?:case|default)\b/.test(t)?u:2*u):r.align?r.column+(s?0:1):r.indented+(s?0:u))},electricChars:":{}"}}),CodeMirror.defineMIME("text/javascript","javascript"),CodeMirror.defineMIME("application/json",{name:"javascript",json:!0})